<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>INTERPOL | Synthèse des Fiches</title>
    <style>
      :root {
        color-scheme: dark;
        --bg: #050911;
        --panel: rgba(20, 29, 47, 0.88);
        --panel-alt: rgba(33, 46, 70, 0.82);
        --text: #f5f6fb;
        --text-muted: rgba(245, 246, 251, 0.64);
        --accent: #4fd5ff;
        --accent-strong: #2e9bff;
        --danger-low: #48c78e;
        --danger-medium: #ffbf63;
        --danger-high: #ff6b6b;
        --border: rgba(106, 134, 182, 0.34);
        font-family: "Inter", "Segoe UI", system-ui, sans-serif;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        background: radial-gradient(circle at 20% 20%, #111b2f 0, transparent 55%),
          radial-gradient(circle at 80% 10%, #0a1a33 0, transparent 50%),
          var(--bg);
        color: var(--text);
        display: flex;
        flex-direction: column;
      }

      header {
        padding: 48px clamp(24px, 5vw, 72px) 32px;
        display: grid;
        gap: 12px;
      }

      header h1 {
        margin: 0;
        font-size: clamp(28px, 4vw, 44px);
        font-weight: 600;
        letter-spacing: 0.02em;
      }

      header p {
        margin: 0;
        max-width: 720px;
        color: var(--text-muted);
        line-height: 1.6;
      }

      .search-panel {
        margin: 0 clamp(24px, 5vw, 72px) 32px;
        padding: clamp(16px, 4vw, 28px);
        border-radius: 22px;
        border: 1px solid var(--border);
        background: linear-gradient(135deg, rgba(26, 37, 60, 0.92), rgba(12, 21, 38, 0.78));
        box-shadow: 0 32px 60px rgba(5, 9, 18, 0.55);
        display: grid;
        gap: 18px;
      }

      .search-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 16px;
      }

      label {
        font-size: 13px;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: rgba(245, 246, 251, 0.52);
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      input,
      select {
        padding: 12px 14px;
        border-radius: 12px;
        border: 1px solid rgba(103, 131, 184, 0.35);
        background: rgba(9, 15, 28, 0.75);
        color: var(--text);
        font-size: 15px;
        transition: border-color 0.18s ease, box-shadow 0.18s ease;
      }

      input:focus,
      select:focus {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 0 2px rgba(79, 213, 255, 0.3);
      }

      .results-meta {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 12px;
        font-size: 14px;
        color: var(--text-muted);
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }

      .cards {
        flex: 1;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 28px;
        padding: 0 clamp(24px, 5vw, 72px) 72px;
      }

      .card {
        border-radius: 24px;
        overflow: hidden;
        border: 1px solid var(--border);
        background: var(--panel);
        display: flex;
        flex-direction: column;
        transition: transform 0.18s ease, border-color 0.18s ease, box-shadow 0.18s ease;
        min-height: 100%;
      }

      .card:hover {
        transform: translateY(-6px);
        border-color: rgba(79, 213, 255, 0.6);
        box-shadow: 0 28px 60px rgba(5, 12, 24, 0.5);
      }

      .card img {
        width: 100%;
        height: 210px;
        object-fit: cover;
      }

      .card-content {
        padding: 22px;
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      .name-line {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: 12px;
      }

      .name-line h2 {
        margin: 0;
        font-size: 22px;
        font-weight: 600;
        letter-spacing: 0.02em;
      }

      .status {
        font-size: 12px;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        padding: 6px 12px;
        border-radius: 999px;
        border: 1px solid rgba(245, 246, 251, 0.24);
        color: var(--text);
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .status::before {
        content: "";
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: currentColor;
      }

      .status[data-level="élevée"] {
        border-color: rgba(255, 107, 107, 0.55);
        color: var(--danger-high);
      }

      .status[data-level="modérée"] {
        border-color: rgba(255, 191, 99, 0.55);
        color: var(--danger-medium);
      }

      .status[data-level="faible"] {
        border-color: rgba(72, 199, 142, 0.55);
        color: var(--danger-low);
      }

      .tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .tag {
        font-size: 11px;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        padding: 6px 10px;
        border-radius: 8px;
        border: 1px solid rgba(107, 137, 194, 0.35);
        color: rgba(235, 239, 255, 0.68);
      }

      .crimes {
        margin: 0;
        font-size: 14px;
        color: var(--text-muted);
        line-height: 1.6;
      }

      .card-footer {
        margin-top: auto;
        padding-top: 12px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 12px;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: rgba(245, 246, 251, 0.52);
      }

      .card a {
        color: var(--accent);
        text-decoration: none;
        font-weight: 600;
        letter-spacing: 0.12em;
        text-transform: uppercase;
      }

      footer {
        padding: 32px clamp(24px, 5vw, 72px);
        color: rgba(245, 246, 251, 0.42);
        font-size: 12px;
        letter-spacing: 0.22em;
        text-transform: uppercase;
        border-top: 1px solid rgba(90, 118, 168, 0.26);
        background: rgba(3, 8, 16, 0.72);
      }

      @media (max-width: 720px) {
        .search-panel {
          border-radius: 18px;
        }

        .cards {
          padding-bottom: 48px;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>INTERPOL — Synthèse des fiches</h1>
      <p>
        Portail démonstratif présentant des fiches fictives de personnes recherchées. Affinez
        votre analyse à l’aide des filtres pour accéder aux détails individuels.
      </p>
    </header>

    <section class="search-panel" aria-label="Filtres de recherche">
      <div class="search-grid">
        <label>
          Nom ou alias
          <input
            id="search-name"
            type="search"
            name="name"
            placeholder="Ex : Lauwdy, Kraft, Macel..."
            autocomplete="off"
          />
        </label>
        <label>
          Crime présumé
          <input
            id="search-crime"
            type="search"
            name="crime"
            placeholder="Ex : fraude, piratage..."
            autocomplete="off"
          />
        </label>
        <label>
          Pays
          <input
            id="search-country"
            type="search"
            name="country"
            placeholder="Ex : France, Canada..."
            autocomplete="off"
          />
        </label>
      </div>
      <div class="search-grid">
        <label>
          Statut
          <select id="filter-status" name="status">
            <option value="">Tous les statuts</option>
          </select>
        </label>
        <label>
          Pays (liste)
          <select id="filter-country" name="country-select">
            <option value="">Tous les pays</option>
          </select>
        </label>
        <label>
          Dangerosité
          <select id="filter-danger" name="danger">
            <option value="">Tous les niveaux</option>
            <option value="faible">Faible</option>
            <option value="modérée">Modérée</option>
            <option value="élevée">Élevée</option>
          </select>
        </label>
      </div>
      <div class="results-meta">
        <span id="results-count">5 fiches visibles</span>
        <button id="reset-btn" type="button" style="
            border: none;
            background: none;
            color: var(--accent);
            font-weight: 600;
            cursor: pointer;
            letter-spacing: 0.16em;
            text-transform: uppercase;
          ">
          Réinitialiser
        </button>
      </div>
    </section>

    <section class="cards" id="cards-container" aria-live="polite"></section>

    <footer>
      INTERPOL (démo) • Fiche fictive • © 2025
    </footer>

    <script>
      const profiles = [
        {
          id: "hervey-lauwdy",
          name: "Hervey Lauwdy",
          alias: "ISO9001",
          status: "Prime active",
          crimes: ["Rodéo urbain", "Délit de fuite aggravé"],
          country: "France",
          danger: "élevée",
          lastSeen: "Yutz, FR",
          image: "assets/DE013C61-AC76-494E-8FD4-AE080EA01F07.PNG",
          detailUrl: "wanted-hervey-lauwdy.html",
        },
        {
          id: "etienne-kraft",
          name: "Etienne Kraft",
          alias: "ISO9001",
          status: "Prime active",
          crimes: ["Usurpation de sachant", "Vols répétés de normes techniques"],
          country: "France",
          danger: "élevée",
          lastSeen: "Paris, FR",
          image: "assets/IMG_9283.jpg",
          detailUrl: "wanted-etienne-kraft.html",
        },
        {
          id: "ibrahima-macel",
          name: "Ibrahima Macel",
          alias: "Omega-Shadow",
          status: "Avis rouge",
          crimes: [
            "Trafic de neuro-implants illégaux",
            "Sabotage de laboratoires orbitaux",
            "Détournement d'essaims autonomes"
          ],
          country: "France",
          danger: "élevée",
          lastSeen: "Nouméa, NC",
          image: "assets/IMG_9378.jpg",
          detailUrl: "wanted-ibrahima-macel.html",
        },
        {
          id: "nicolas-androuet",
          name: "Nicolas Androuet",
          alias: "Nageur Mignon",
          status: "Avis prioritaire",
          crimes: ["Féminicide aggravé"],
          country: "France",
          danger: "élevée",
          lastSeen: "Lyon, FR",
          image: "assets/IMG_3513.jpg",
          detailUrl: "wanted-nicolas-androuet.html",
        },
        {
          id: "thibaut-weyer",
          name: "Thibaut Weyer",
          alias: "Le Chasseur",
          status: "Avis provincial",
          crimes: [
            "Excès de vitesse aggravé",
            "Atteinte volontaire à la vie d’un animal",
            "Rixe organisée"
          ],
          country: "France",
          danger: "modérée",
          lastSeen: "Luxembourg, LU",
          image: "assets/IMG_9438.jpg",
          detailUrl: "wanted-thibaut-weyer.html",
        },
      ];

      const elements = {
        cardsContainer: document.getElementById("cards-container"),
        searchName: document.getElementById("search-name"),
        searchCrime: document.getElementById("search-crime"),
        searchCountry: document.getElementById("search-country"),
        filterStatus: document.getElementById("filter-status"),
        filterCountry: document.getElementById("filter-country"),
        filterDanger: document.getElementById("filter-danger"),
        resetBtn: document.getElementById("reset-btn"),
        resultsCount: document.getElementById("results-count"),
      };

      function populateSelect(select, values) {
        const unique = Array.from(new Set(values)).sort((a, b) =>
          a.localeCompare(b, "fr", { sensitivity: "base" })
        );
        unique.forEach((value) => {
          if (!value) return;
          const option = document.createElement("option");
          option.value = value.toLowerCase();
          option.textContent = value;
          select.append(option);
        });
      }

      populateSelect(
        elements.filterStatus,
        profiles.map((p) => p.status)
      );
      populateSelect(
        elements.filterCountry,
        profiles.map((p) => p.country)
      );

      function renderProfiles(list) {
        elements.cardsContainer.innerHTML = "";
        if (!list.length) {
          const empty = document.createElement("p");
          empty.textContent =
            "Aucun résultat pour ces critères. Ajustez votre recherche.";
          empty.style.color = "var(--text-muted)";
          empty.style.gridColumn = "1 / -1";
          empty.style.letterSpacing = "0.08em";
          empty.style.textTransform = "uppercase";
          elements.cardsContainer.append(empty);
        } else {
          list.forEach((profile) => {
            const card = document.createElement("article");
            card.className = "card";
            card.innerHTML = `
              <img src="${profile.image}" alt="Portrait de ${profile.name}" />
              <div class="card-content">
                <div class="name-line">
                  <h2>${profile.name}</h2>
                  <span class="status" data-level="${profile.danger}">
                    ${profile.danger}
                  </span>
                </div>
                <div class="tags">
                  <span class="tag">${profile.status}</span>
                  <span class="tag">${profile.country}</span>
                  <span class="tag">Alias : ${profile.alias}</span>
                </div>
                <p class="crimes">
                  ${profile.crimes.join(" • ")}
                </p>
                <div class="card-footer">
                  <span>${profile.lastSeen}</span>
                  <a href="${profile.detailUrl}">Voir la fiche</a>
                </div>
              </div>
            `;
            elements.cardsContainer.append(card);
          });
        }
        elements.resultsCount.textContent = `${list.length} fiche${
          list.length > 1 ? "s" : ""
        } visibles`;
      }

      function normalize(str) {
        return str
          .toLowerCase()
          .normalize("NFD")
          .replace(/[\u0300-\u036f]/g, "");
      }

      function applyFilters() {
        const nameTerm = normalize(elements.searchName.value.trim());
        const crimeTerm = normalize(elements.searchCrime.value.trim());
        const countryTerm = normalize(elements.searchCountry.value.trim());
        const statusFilter = elements.filterStatus.value;
        const countryFilter = elements.filterCountry.value;
        const dangerFilter = elements.filterDanger.value;

        const filtered = profiles.filter((profile) => {
          const nameMatch =
            !nameTerm ||
            normalize(profile.name).includes(nameTerm) ||
            normalize(profile.alias).includes(nameTerm);
          const crimeMatch =
            !crimeTerm ||
            profile.crimes.some((crime) => normalize(crime).includes(crimeTerm));
          const countryMatchText =
            !countryTerm || normalize(profile.country).includes(countryTerm);

          const statusMatch =
            !statusFilter ||
            normalize(profile.status) === normalize(statusFilter);
          const countryMatchSelect =
            !countryFilter ||
            normalize(profile.country) === normalize(countryFilter);
          const dangerMatch =
            !dangerFilter || normalize(profile.danger) === normalize(dangerFilter);

          return (
            nameMatch &&
            crimeMatch &&
            countryMatchText &&
            statusMatch &&
            countryMatchSelect &&
            dangerMatch
          );
        });
        renderProfiles(filtered);
      }

      [
        elements.searchName,
        elements.searchCrime,
        elements.searchCountry,
        elements.filterStatus,
        elements.filterCountry,
        elements.filterDanger,
      ].forEach((input) => input.addEventListener("input", applyFilters));

      elements.resetBtn.addEventListener("click", () => {
        elements.searchName.value = "";
        elements.searchCrime.value = "";
        elements.searchCountry.value = "";
        elements.filterStatus.value = "";
        elements.filterCountry.value = "";
        elements.filterDanger.value = "";
        renderProfiles(profiles);
      });

      renderProfiles(profiles);
    </script>
  </body>
</html>
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Observatoire des Fugitifs | Synthèse</title>
    <style>
      :root {
        color-scheme: dark;
        --bg: #050911;
        --panel: rgba(20, 29, 47, 0.88);
        --panel-alt: rgba(33, 46, 70, 0.82);
        --text: #f5f6fb;
        --text-muted: rgba(245, 246, 251, 0.64);
        --accent: #4fd5ff;
        --accent-strong: #2e9bff;
        --danger-low: #48c78e;
        --danger-medium: #ffbf63;
        --danger-high: #ff6b6b;
        --border: rgba(106, 134, 182, 0.34);
        font-family: "Inter", "Segoe UI", system-ui, sans-serif;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        background: radial-gradient(circle at 20% 20%, #111b2f 0, transparent 55%),
          radial-gradient(circle at 80% 10%, #0a1a33 0, transparent 50%),
          var(--bg);
        color: var(--text);
        display: flex;
        flex-direction: column;
      }

      header {
        padding: 48px clamp(24px, 5vw, 72px) 32px;
        display: grid;
        gap: 12px;
      }

      header h1 {
        margin: 0;
        font-size: clamp(28px, 4vw, 44px);
        font-weight: 600;
        letter-spacing: 0.02em;
      }

      header p {
        margin: 0;
        max-width: 720px;
        color: var(--text-muted);
        line-height: 1.6;
      }

      .search-panel {
        margin: 0 clamp(24px, 5vw, 72px) 32px;
        padding: clamp(16px, 4vw, 28px);
        border-radius: 22px;
        border: 1px solid var(--border);
        background: linear-gradient(135deg, rgba(26, 37, 60, 0.92), rgba(12, 21, 38, 0.78));
        box-shadow: 0 32px 60px rgba(5, 9, 18, 0.55);
        display: grid;
        gap: 18px;
      }

      .search-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 16px;
      }

      label {
        font-size: 13px;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: rgba(245, 246, 251, 0.52);
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      input,
      select {
        padding: 12px 14px;
        border-radius: 12px;
        border: 1px solid rgba(103, 131, 184, 0.35);
        background: rgba(9, 15, 28, 0.75);
        color: var(--text);
        font-size: 15px;
        transition: border-color 0.18s ease, box-shadow 0.18s ease;
      }

      input:focus,
      select:focus {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 0 2px rgba(79, 213, 255, 0.3);
      }

      .results-meta {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 12px;
        font-size: 14px;
        color: var(--text-muted);
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }

      .cards {
        flex: 1;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 28px;
        padding: 0 clamp(24px, 5vw, 72px) 72px;
      }

      .card {
        border-radius: 24px;
        overflow: hidden;
        border: 1px solid var(--border);
        background: var(--panel);
        display: flex;
        flex-direction: column;
        transition: transform 0.18s ease, border-color 0.18s ease, box-shadow 0.18s ease;
        min-height: 100%;
      }

      .card:hover {
        transform: translateY(-6px);
        border-color: rgba(79, 213, 255, 0.6);
        box-shadow: 0 28px 60px rgba(5, 12, 24, 0.5);
      }

      .card img {
        width: 100%;
        height: 210px;
        object-fit: cover;
      }

      .card-content {
        padding: 22px;
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      .name-line {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: 12px;
      }

      .name-line h2 {
        margin: 0;
        font-size: 22px;
        font-weight: 600;
        letter-spacing: 0.02em;
      }

      .status {
        font-size: 12px;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        padding: 6px 12px;
        border-radius: 999px;
        border: 1px solid rgba(245, 246, 251, 0.24);
        color: var(--text);
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .status::before {
        content: "";
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: currentColor;
      }

      .status[data-level="élevée"] {
        border-color: rgba(255, 107, 107, 0.55);
        color: var(--danger-high);
      }

      .status[data-level="modérée"] {
        border-color: rgba(255, 191, 99, 0.55);
        color: var(--danger-medium);
      }

      .status[data-level="faible"] {
        border-color: rgba(72, 199, 142, 0.55);
        color: var(--danger-low);
      }

      .tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .tag {
        font-size: 11px;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        padding: 6px 10px;
        border-radius: 8px;
        border: 1px solid rgba(107, 137, 194, 0.35);
        color: rgba(235, 239, 255, 0.68);
      }

      .crimes {
        margin: 0;
        font-size: 14px;
        color: var(--text-muted);
        line-height: 1.6;
      }

      .card-footer {
        margin-top: auto;
        padding-top: 12px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 12px;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: rgba(245, 246, 251, 0.52);
      }

      .card a {
        color: var(--accent);
        text-decoration: none;
        font-weight: 600;
        letter-spacing: 0.12em;
        text-transform: uppercase;
      }

      footer {
        padding: 32px clamp(24px, 5vw, 72px);
        color: rgba(245, 246, 251, 0.42);
        font-size: 12px;
        letter-spacing: 0.22em;
        text-transform: uppercase;
        border-top: 1px solid rgba(90, 118, 168, 0.26);
        background: rgba(3, 8, 16, 0.72);
      }

      @media (max-width: 720px) {
        .search-panel {
          border-radius: 18px;
        }

        .cards {
          padding-bottom: 48px;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Observatoire des Fugitifs</h1>
      <p>
        Base de démonstration dédiée à la visualisation de fiches fictives de personnes
        recherchées. Utilisez les filtres pour explorer les profils et accéder aux fiches
        détaillées.
      </p>
    </header>

    <section class="search-panel" aria-label="Filtres de recherche">
      <div class="search-grid">
        <label>
          Nom ou alias
          <input
            id="search-name"
            type="search"
            name="name"
            placeholder="Ex : Kraft, Nova..."
            autocomplete="off"
          />
        </label>
        <label>
          Crime présumé
          <input
            id="search-crime"
            type="search"
            name="crime"
            placeholder="Ex : fraude, piratage..."
            autocomplete="off"
          />
        </label>
        <label>
          Pays
          <input
            id="search-country"
            type="search"
            name="country"
            placeholder="Ex : France, Canada..."
            autocomplete="off"
          />
        </label>
      </div>
      <div class="search-grid">
        <label>
          Statut
          <select id="filter-status" name="status">
            <option value="">Tous les statuts</option>
          </select>
        </label>
        <label>
          Pays (liste)
          <select id="filter-country" name="country-select">
            <option value="">Tous les pays</option>
          </select>
        </label>
        <label>
          Dangerosité
          <select id="filter-danger" name="danger">
            <option value="">Tous les niveaux</option>
            <option value="faible">Faible</option>
            <option value="modérée">Modérée</option>
            <option value="élevée">Élevée</option>
          </select>
        </label>
      </div>
      <div class="results-meta">
        <span id="results-count">6 fiches visibles</span>
        <button id="reset-btn" type="button" style="
            border: none;
            background: none;
            color: var(--accent);
            font-weight: 600;
            cursor: pointer;
            letter-spacing: 0.16em;
            text-transform: uppercase;
          ">
          Réinitialiser
        </button>
      </div>
    </section>

    <section class="cards" id="cards-container" aria-live="polite"></section>

    <footer>
      Observatoire des Fugitifs • Données fictives pour démonstration • © 2025
    </footer>

    <script>
      const profiles = [
        {
          id: "etienne-kraft",
          name: "Etienne Kraft",
          alias: "Drift-7",
          status: "Prime active",
          crimes: ["Usurpation de sachant", "Vols répétés de normes techniques"],
          country: "France",
          danger: "élevée",
          lastSeen: "Paris, FR",
          image: "assets/IMG_9283.jpg",
          detailUrl: "wanted-etienne-kraft.html",
        },
        {
          id: "mira-novik",
          name: "Mira Novik",
          alias: "Spectre",
          status: "Enquête internationale",
          crimes: ["Intrusion dans des réseaux financiers", "Extorsion numérique"],
          country: "Estonie",
          danger: "modérée",
          lastSeen: "Tallinn, EE",
          image:
            "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=900&q=80",
          detailUrl: "#",
        },
        {
          id: "jorge-almeida",
          name: "Jorge Almeida",
          alias: "Mercurio",
          status: "Mandat continental",
          crimes: ["Trafic de technologies biométriques", "Corruption"],
          country: "Brésil",
          danger: "élevée",
          lastSeen: "São Paulo, BR",
          image:
            "https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=900&q=80",
          detailUrl: "#",
        },
        {
          id: "noura-elbaz",
          name: "Noura Elbaz",
          alias: "Helix",
          status: "Surveillance étendue",
          crimes: ["Sabotage industriel", "Compromission d'infrastructures"],
          country: "Maroc",
          danger: "modérée",
          lastSeen: "Casablanca, MA",
          image:
            "https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=900&q=80",
          detailUrl: "#",
        },
        {
          id: "liam-o-shea",
          name: "Liam O'Shea",
          alias: "Delta North",
          status: "Prime active",
          crimes: ["Piratage de drones civils", "Revente d'algorithmes sensibles"],
          country: "Irlande",
          danger: "élevée",
          lastSeen: "Cork, IE",
          image:
            "https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=900&q=80",
          detailUrl: "#",
        },
        {
          id: "sofia-greco",
          name: "Sofia Greco",
          alias: "Lapis-12",
          status: "Enquête nationale",
          crimes: ["Blanchiment crypto", "Fraude à la certification"],
          country: "Italie",
          danger: "faible",
          lastSeen: "Bologne, IT",
          image:
            "https://images.unsplash.com/photo-1544723795-432537efef2b?auto=format&fit=crop&w=900&q=80",
          detailUrl: "#",
        },
      ];

      const elements = {
        cardsContainer: document.getElementById("cards-container"),
        searchName: document.getElementById("search-name"),
        searchCrime: document.getElementById("search-crime"),
        searchCountry: document.getElementById("search-country"),
        filterStatus: document.getElementById("filter-status"),
        filterCountry: document.getElementById("filter-country"),
        filterDanger: document.getElementById("filter-danger"),
        resetBtn: document.getElementById("reset-btn"),
        resultsCount: document.getElementById("results-count"),
      };

      function populateSelect(select, values) {
        const unique = Array.from(new Set(values)).sort((a, b) =>
          a.localeCompare(b, "fr", { sensitivity: "base" })
        );
        unique.forEach((value) => {
          if (!value) return;
          const option = document.createElement("option");
          option.value = value.toLowerCase();
          option.textContent = value;
          select.append(option);
        });
      }

      populateSelect(
        elements.filterStatus,
        profiles.map((p) => p.status)
      );
      populateSelect(
        elements.filterCountry,
        profiles.map((p) => p.country)
      );

      function renderProfiles(list) {
        elements.cardsContainer.innerHTML = "";
        if (!list.length) {
          const empty = document.createElement("p");
          empty.textContent =
            "Aucun résultat pour ces critères. Ajustez votre recherche.";
          empty.style.color = "var(--text-muted)";
          empty.style.gridColumn = "1 / -1";
          empty.style.letterSpacing = "0.08em";
          empty.style.textTransform = "uppercase";
          elements.cardsContainer.append(empty);
        } else {
          list.forEach((profile) => {
            const card = document.createElement("article");
            card.className = "card";
            card.innerHTML = `
              <img src="${profile.image}" alt="Portrait de ${profile.name}" />
              <div class="card-content">
                <div class="name-line">
                  <h2>${profile.name}</h2>
                  <span class="status" data-level="${profile.danger}">
                    ${profile.danger}
                  </span>
                </div>
                <div class="tags">
                  <span class="tag">${profile.status}</span>
                  <span class="tag">${profile.country}</span>
                  <span class="tag">Alias : ${profile.alias}</span>
                </div>
                <p class="crimes">
                  ${profile.crimes.join(" • ")}
                </p>
                <div class="card-footer">
                  <span>${profile.lastSeen}</span>
                  <a href="${profile.detailUrl}">Voir la fiche</a>
                </div>
              </div>
            `;
            elements.cardsContainer.append(card);
          });
        }
        elements.resultsCount.textContent =
          list.length === 1
            ? "1 fiche visible"
            : `${list.length} fiches visibles`;
      }

      function normalize(str) {
        return str
          .toLowerCase()
          .normalize("NFD")
          .replace(/[\u0300-\u036f]/g, "");
      }

      function applyFilters() {
        const nameTerm = normalize(elements.searchName.value.trim());
        const crimeTerm = normalize(elements.searchCrime.value.trim());
        const countryTerm = normalize(elements.searchCountry.value.trim());
        const statusFilter = elements.filterStatus.value;
        const countryFilter = elements.filterCountry.value;
        const dangerFilter = elements.filterDanger.value;

        const filtered = profiles.filter((profile) => {
          const nameMatch =
            !nameTerm ||
            normalize(profile.name).includes(nameTerm) ||
            normalize(profile.alias).includes(nameTerm);
          const crimeMatch =
            !crimeTerm ||
            profile.crimes.some((crime) => normalize(crime).includes(crimeTerm));
          const countryMatchText =
            !countryTerm || normalize(profile.country).includes(countryTerm);

          const statusMatch =
            !statusFilter ||
            normalize(profile.status) === normalize(statusFilter);
          const countryMatchSelect =
            !countryFilter ||
            normalize(profile.country) === normalize(countryFilter);
          const dangerMatch =
            !dangerFilter || normalize(profile.danger) === normalize(dangerFilter);

          return (
            nameMatch &&
            crimeMatch &&
            countryMatchText &&
            statusMatch &&
            countryMatchSelect &&
            dangerMatch
          );
        });
        renderProfiles(filtered);
      }

      [
        elements.searchName,
        elements.searchCrime,
        elements.searchCountry,
        elements.filterStatus,
        elements.filterCountry,
        elements.filterDanger,
      ].forEach((input) => input.addEventListener("input", applyFilters));

      elements.resetBtn.addEventListener("click", () => {
        elements.searchName.value = "";
        elements.searchCrime.value = "";
        elements.searchCountry.value = "";
        elements.filterStatus.value = "";
        elements.filterCountry.value = "";
        elements.filterDanger.value = "";
        renderProfiles(profiles);
      });

      renderProfiles(profiles);
    </script>
  </body>
</html>

